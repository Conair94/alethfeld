{:theorem
 {:id :theorem,
  :statement
  "For the rank-1 QBF $U = I - 2|\\psi\\rangle\\langle\\psi|$ where $|\\psi\\rangle = \\bigotimes_{k=1}^n |\\phi_k\\rangle$ is a product state: $\\frac{S(U)}{I(U)} \\leq \\log_2 3 + \\frac{2^{n-1}}{n}\\left[-p_0 \\log_2 p_0 + (2n-2)(1-p_0)\\right]$ where $p_0 = (1 - 2^{1-n})^2$. The maximum is achieved when all qubits are in the magic state with Bloch vector $(\\frac{1}{\\sqrt{3}}, \\frac{1}{\\sqrt{3}}, \\frac{1}{\\sqrt{3}})$.",
  :content-hash "81d68b87f8ba0520"},
 :obligations [],
 :archived-nodes {},
 :external-refs
 {"ext-shannon"
  {:verification-status :metadata-only,
   :arxiv nil,
   :doi nil,
   :bibdata
   {:authors ["Claude Shannon"],
    :title "A Mathematical Theory of Communication",
    :year 1948,
    :journal "Bell System Technical Journal"},
   :verified-statement nil,
   :id "ext-shannon",
   :notes "Standard result in information theory",
   :url nil,
   :claimed-statement
   "Shannon entropy is maximized by uniform distribution: $H(p_1, \\ldots, p_k) \\leq \\log_2 k$"}},
 :nodes
 {:2-lem1-1
  {:statement
   "$\\hat{U}(\\alpha) = 2^{-n}\\text{Tr}(\\sigma^\\alpha U) = 2^{-n}\\text{Tr}(\\sigma^\\alpha) - 2^{1-n}\\text{Tr}(\\sigma^\\alpha |\\psi\\rangle\\langle\\psi|)$",
   :taint :clean,
   :parent :1-lem1,
   :content-hash "8b84931a824212cc",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L1Fourier",
    :theorem "fourierCoeff_rank1_expand"},
   :display-order 0,
   :type :claim,
   :scope #{},
   :justification :definition-expansion,
   :status :verified,
   :id :2-lem1-1,
   :provenance
   {:created-at "2025-01-01T00:00:05Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:0-assume0}},
  :2-thm6-qed
  {:statement
   "Therefore $S$ is maximized when all $f_k = \\log_2 3$, achieved at the magic state.",
   :taint :clean,
   :parent :1-thm6,
   :content-hash "1f6b6adb83500aa3",
   :display-order 4,
   :type :qed,
   :scope #{},
   :justification :qed,
   :status :verified,
   :id :2-thm6-qed,
   :provenance
   {:created-at "2025-01-01T00:00:31Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm6-2 :2-thm6-4 :2-thm6-1}},
  :1-lem1
  {:statement
   "**Lemma 1 (Fourier Coefficient Formula):** For $U = I - 2|\\psi\\rangle\\langle\\psi|$: $\\hat{U}(\\alpha) = \\delta_{\\alpha,0} - 2^{1-n} \\prod_{k=1}^n r_k^{(\\alpha_k)}$ where $r_k^{(0)} = 1$, $r_k^{(1)} = x_k$, $r_k^{(2)} = y_k$, $r_k^{(3)} = z_k$.",
   :taint :clean,
   :parent nil,
   :content-hash "e9ec455de598a208",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L1Fourier",
    :theorem "fourier_coefficient_formula",
    :api-ref "L1 (Fourier)"},
   :display-order 4,
   :type :claim,
   :scope #{},
   :justification :conjunction-intro,
   :status :verified,
   :id :1-lem1,
   :provenance
   {:created-at "2025-01-01T00:00:04Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:0-assume0 :1-def1}},
  :1-lem2
  {:statement
   "**Lemma 2 (Probability Distribution):** $p_\\alpha = |\\hat{U}(\\alpha)|^2 = \\begin{cases} (1 - 2^{1-n})^2 & \\alpha = 0 \\\\ 2^{2-2n} \\prod_{k=1}^n q_k^{(\\alpha_k)} & \\alpha \\neq 0 \\end{cases}$",
   :taint :clean,
   :parent nil,
   :content-hash "8ec508a3510c9554",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L2Influence",
    :theorem "probability",
    :note "Definition of Fourier weight p_α"},
   :display-order 5,
   :type :claim,
   :scope #{},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :1-lem2,
   :provenance
   {:created-at "2025-01-01T00:00:10Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-lem1 :1-def2}},
  :1-thm5
  {:statement
   "**Theorem 5 (General Entropy Formula):** $S = -p_0 \\log_2 p_0 + (2n-2)(1-p_0) + 2^{1-n} \\sum_{k=1}^n f_k$ where $f_k = H(x_k^2, y_k^2, z_k^2)$ is the Bloch entropy of qubit $k$.",
   :taint :clean,
   :parent nil,
   :content-hash "a380a0036a8e26d9",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L3Entropy",
    :theorem "entropy_formula",
    :api-ref "L3 (Entropy)"},
   :display-order 8,
   :type :claim,
   :scope #{},
   :justification :conjunction-intro,
   :status :verified,
   :id :1-thm5,
   :provenance
   {:created-at "2025-01-01T00:00:18Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-lem4 :1-def3}},
  :2-thm3-2
  {:statement
   "For $\\alpha \\neq 0$ with $\\alpha_j = \\ell \\neq 0$: $\\sum_{\\alpha: \\alpha_j = \\ell} p_\\alpha = 2^{2-2n} \\cdot q_j^{(\\ell)} \\cdot \\prod_{k \\neq j} \\sum_{m=0}^3 q_k^{(m)}$",
   :taint :clean,
   :parent :1-thm3,
   :content-hash "ead066f99b7e9630",
   :display-order 1,
   :type :claim,
   :scope #{},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-thm3-2,
   :provenance
   {:created-at "2025-01-01T00:00:13Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:1-lem2}},
  :2-thm3-3
  {:statement
   "Since $\\sum_{m=0}^3 q_k^{(m)} = 1 + x_k^2 + y_k^2 + z_k^2 = 2$: $\\sum_{\\alpha: \\alpha_j = \\ell} p_\\alpha = 2^{2-2n} \\cdot q_j^{(\\ell)} \\cdot 2^{n-1}$",
   :taint :clean,
   :parent :1-thm3,
   :content-hash "bda991a7cf5b13f3",
   :display-order 2,
   :type :claim,
   :scope #{},
   :justification :substitution,
   :status :verified,
   :id :2-thm3-3,
   :provenance
   {:created-at "2025-01-01T00:00:14Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm3-2 :1-def2 :1-def1}},
  :2-thm8-3
  {:statement
   "The correction term: $g(n) = \\frac{2^{n-1}}{n}\\left[-p_0 \\log_2 p_0 + (2n-2)(1-p_0)\\right] \\approx \\frac{2^{n-1}}{n} \\cdot \\varepsilon \\cdot \\left[\\frac{2}{\\ln 2} + 4(n-1)\\right] = \\frac{2^{n-1}}{n} \\cdot 2^{1-n} \\cdot \\left[\\frac{2}{\\ln 2} + 4(n-1)\\right]$",
   :taint :clean,
   :parent :1-thm8,
   :content-hash "d9aa2aafd75fcab1",
   :display-order 3,
   :type :claim,
   :scope #{:2-thm8-0},
   :justification :substitution,
   :status :verified,
   :id :2-thm8-3,
   :provenance
   {:created-at "2025-01-01T00:00:37Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm8-1 :2-thm8-2}},
  :2-thm6-3
  {:statement
   "Each $f_k = H(x_k^2, y_k^2, z_k^2)$ is the Shannon entropy of a probability distribution on 3 outcomes.",
   :taint :clean,
   :parent :1-thm6,
   :content-hash "a5914cacccea34ec",
   :display-order 2,
   :type :claim,
   :scope #{},
   :justification :definition-expansion,
   :status :verified,
   :id :2-thm6-3,
   :provenance
   {:created-at "2025-01-01T00:00:29Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:1-def3}},
  :2-thm8-4
  {:statement
   "Simplifying: $g(n) = \\frac{1}{n}\\left[\\frac{2}{\\ln 2} + 4(n-1)\\right] = \\frac{2}{n \\ln 2} + 4 - \\frac{4}{n} \\to 4$ as $n \\to \\infty$",
   :taint :clean,
   :parent :1-thm8,
   :content-hash "8ffa2780f51d5ff9",
   :display-order 4,
   :type :claim,
   :scope #{:2-thm8-0},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-thm8-4,
   :provenance
   {:created-at "2025-01-01T00:00:38Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm8-3}},
  :1-sup
  {:statement
   "**Supremum:** $\\sup_{n, \\text{product states}} \\frac{S}{I} = \\log_2 3 + 4 \\approx 5.585$. This supremum is achieved in the limit $n \\to \\infty$ with all qubits in the magic state.",
   :taint :clean,
   :parent nil,
   :content-hash "3aba0391569ad2f6",
   :display-order 13,
   :type :claim,
   :scope #{},
   :justification :conjunction-intro,
   :status :verified,
   :id :1-sup,
   :provenance
   {:created-at "2025-01-01T00:00:42Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-thm6 :1-thm8}},
  :1-thm3
  {:statement
   "**Theorem 3 (Influence Independence):** For any rank-1 product state QBF: $I(U) = n \\cdot 2^{1-n}$. This is independent of the choice of Bloch vectors.",
   :taint :clean,
   :parent nil,
   :content-hash "a12cb95e46ffbb76",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L2Influence",
    :theorem "total_influence_formula",
    :api-ref "L2 (Influence)",
    :also-see ["influence_independent_of_bloch"]},
   :display-order 6,
   :type :claim,
   :scope #{},
   :justification :conjunction-intro,
   :status :verified,
   :id :1-thm3,
   :provenance
   {:created-at "2025-01-01T00:00:11Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-lem2}},
  :2-thm8-0
  {:statement
   "Let $\\varepsilon = 2^{1-n}$, so $p_0 = (1-\\varepsilon)^2$ and $1 - p_0 = 2\\varepsilon - \\varepsilon^2 \\approx 2\\varepsilon$ for small $\\varepsilon$.",
   :taint :clean,
   :parent :1-thm8,
   :content-hash "98abd37ac0c94622",
   :introduces "$\\varepsilon = 2^{1-n}$",
   :display-order 0,
   :type :local-assume,
   :scope #{},
   :justification :local-assumption,
   :status :verified,
   :id :2-thm8-0,
   :provenance
   {:created-at "2025-01-01T00:00:34Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:1-cor7}},
  :1-main-qed
  {:statement
   "For rank-1 QBFs from product states: (1) Influence is constant: $I = n \\cdot 2^{1-n}$; (2) Entropy formula: $S = -p_0 \\log_2 p_0 + (2n-2)(1-p_0) + 2^{1-n} \\sum_k f_k$; (3) Maximum at magic states; (4) Explicit bound with asymptotic limit $S/I \\to \\log_2 3 + 4 \\approx 5.585$; (5) Required constant: $C \\geq 5.585$.",
   :taint :clean,
   :parent nil,
   :content-hash "fcfac30f01d29ea3",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.QBFRank1MasterTheorem",
    :theorem "qbfRank1Master",
    :api-ref "QBF Rank-1 Master Theorem",
    :note "Complete proof combining L1-L5"},
   :display-order 15,
   :type :qed,
   :scope #{},
   :justification :qed,
   :status :verified,
   :id :1-main-qed,
   :provenance
   {:created-at "2025-01-01T00:00:44Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-thm5 :1-thm3 :1-conj :1-thm6 :1-cor7 :1-thm8}},
  :2-thm5-1
  {:statement
   "For $\\alpha \\neq 0$: $-p_\\alpha \\log_2 p_\\alpha = -p_\\alpha \\log_2(2^{2-2n}) - p_\\alpha \\sum_k \\log_2 q_k^{(\\alpha_k)} = p_\\alpha(2n-2) - p_\\alpha \\sum_k \\log_2 q_k^{(\\alpha_k)}$",
   :taint :clean,
   :parent :1-thm5,
   :content-hash "8a2f89e93d9a1dd1",
   :display-order 0,
   :type :claim,
   :scope #{},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-thm5-1,
   :provenance
   {:created-at "2025-01-01T00:00:19Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:1-lem2}},
  :2-thm3-qed
  {:statement "Total influence: $I = \\sum_j I_j = n \\cdot 2^{1-n}$",
   :taint :clean,
   :parent :1-thm3,
   :content-hash "b6f7e1b55c100a96",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L2Influence",
    :theorem "total_influence_formula"},
   :display-order 4,
   :type :qed,
   :scope #{},
   :justification :qed,
   :status :verified,
   :id :2-thm3-qed,
   :provenance
   {:created-at "2025-01-01T00:00:16Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm3-4}},
  :2-thm5-2
  {:statement
   "Summing over all $\\alpha \\neq 0$: $\\sum_{\\alpha \\neq 0} p_\\alpha(2n-2) = (2n-2)(1 - p_0)$",
   :taint :clean,
   :parent :1-thm5,
   :content-hash "4e547336b5356ed0",
   :display-order 1,
   :type :claim,
   :scope #{},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-thm5-2,
   :provenance
   {:created-at "2025-01-01T00:00:20Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm5-1}},
  :2-thm6-2
  {:statement
   "From Theorem 5: $S = -p_0 \\log_2 p_0 + (2n-2)(1-p_0) + 2^{1-n} \\sum_k f_k$. The first two terms are independent of Bloch vectors.",
   :taint :clean,
   :parent :1-thm6,
   :content-hash "e75dcb3ce15da8ec",
   :display-order 1,
   :type :claim,
   :scope #{},
   :justification :substitution,
   :status :verified,
   :id :2-thm6-2,
   :provenance
   {:created-at "2025-01-01T00:00:28Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:1-thm5}},
  :0-assume0
  {:statement
   "Let $U = I - 2|\\psi\\rangle\\langle\\psi|$ be a rank-1 QBF where $|\\psi\\rangle = \\bigotimes_{k=1}^n |\\phi_k\\rangle$ is a product state with each $|\\phi_k\\rangle \\in \\mathbb{C}^2$.",
   :taint :clean,
   :parent nil,
   :content-hash "b0234aa323f5a1e2",
   :display-order 0,
   :type :assumption,
   :scope #{},
   :justification :assumption,
   :status :verified,
   :id :0-assume0,
   :provenance
   {:created-at "2025-01-01T00:00:00Z",
    :created-by :orchestrator,
    :round 0,
    :revision-of nil},
   :depth 0,
   :dependencies #{},
   :assumption-label :A1},
  :1-def2
  {:statement
   "Define $q_k^{(0)} = 1$ and $(q_k^{(1)}, q_k^{(2)}, q_k^{(3)}) = (x_k^2, y_k^2, z_k^2)$.",
   :taint :clean,
   :parent nil,
   :content-hash "3e668dbe46c7b375",
   :display-order 2,
   :type :definition,
   :scope #{},
   :justification :definition-expansion,
   :status :verified,
   :id :1-def2,
   :provenance
   {:created-at "2025-01-01T00:00:02Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-def1}},
  :2-thm3-1
  {:statement
   "The influence of qubit $j$ is: $I_j = \\sum_{\\alpha: \\alpha_j \\neq 0} p_\\alpha$",
   :taint :clean,
   :parent :1-thm3,
   :content-hash "7f51508974375d7f",
   :display-order 0,
   :type :claim,
   :scope #{},
   :justification :definition-expansion,
   :status :verified,
   :id :2-thm3-1,
   :provenance
   {:created-at "2025-01-01T00:00:12Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{}},
  :2-lem1-3
  {:statement
   "$\\text{Tr}(\\sigma^\\alpha |\\psi\\rangle\\langle\\psi|) = \\langle\\psi|\\sigma^\\alpha|\\psi\\rangle$",
   :taint :clean,
   :parent :1-lem1,
   :content-hash "4d55cb601c421af1",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L1Fourier",
    :theorem "trace_rank1_projector_eq_expectation"},
   :display-order 2,
   :type :claim,
   :scope #{},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-lem1-3,
   :provenance
   {:created-at "2025-01-01T00:00:07Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{}},
  :1-conj
  {:statement
   "**Conjecture Bound:** For the entropy-influence conjecture $S(U) \\leq C \\cdot I(U)$ to hold for all rank-1 product state QBFs, we require: $C \\geq \\log_2 3 + 4 \\approx 5.585$",
   :taint :clean,
   :parent nil,
   :content-hash "a4051d0ad0f58206",
   :display-order 14,
   :type :claim,
   :scope #{},
   :justification :modus-ponens,
   :status :verified,
   :id :1-conj,
   :provenance
   {:created-at "2025-01-01T00:00:43Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-sup}},
  :2-thm8-1
  {:statement
   "For the entropy term, using $\\log(1-x) \\approx -x/\\ln 2$ for small $x$: $-p_0 \\log_2 p_0 \\approx -(1-2\\varepsilon)(-2\\varepsilon/\\ln 2) \\approx 2\\varepsilon/\\ln 2$",
   :taint :clean,
   :parent :1-thm8,
   :content-hash "75ee9f6f122cc01d",
   :display-order 1,
   :type :claim,
   :scope #{:2-thm8-0},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-thm8-1,
   :provenance
   {:created-at "2025-01-01T00:00:35Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm8-0}},
  :2-thm5-6
  {:statement
   "Summing over all qubits $j$: $-\\sum_{\\alpha \\neq 0} p_\\alpha \\sum_k \\log_2 q_k^{(\\alpha_k)} = 2^{1-n} \\sum_k f_k$",
   :taint :clean,
   :parent :1-thm5,
   :content-hash "77ce803c2c8a52c4",
   :display-order 5,
   :type :claim,
   :scope #{},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-thm5-6,
   :provenance
   {:created-at "2025-01-01T00:00:24Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm5-5}},
  :1-thm6
  {:statement
   "**Theorem 6 (Maximum Ratio):** The ratio $S/I$ is maximized when all qubits are in the magic state $(x_k^2, y_k^2, z_k^2) = (\\frac{1}{3}, \\frac{1}{3}, \\frac{1}{3})$.",
   :taint :clean,
   :parent nil,
   :content-hash "bb2d4235f6ff73b5",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L4Maximum",
    :theorem "l4_maximum_entropy",
    :api-ref "L4 (Maximum)",
    :also-see ["l4_maximum_total_entropy" "isMagicState"]},
   :display-order 9,
   :type :claim,
   :scope #{},
   :justification :conjunction-intro,
   :status :verified,
   :id :1-thm6,
   :provenance
   {:created-at "2025-01-01T00:00:26Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-thm5 :1-thm3}},
  :2-thm8-2
  {:statement
   "For the influence term: $(2n-2)(1-p_0) \\approx (2n-2) \\cdot 2\\varepsilon = 4(n-1)\\varepsilon$",
   :taint :clean,
   :parent :1-thm8,
   :content-hash "2c663c455ce6f68e",
   :display-order 2,
   :type :claim,
   :scope #{:2-thm8-0},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-thm8-2,
   :provenance
   {:created-at "2025-01-01T00:00:36Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm8-0}},
  :2-lem1-2
  {:statement
   "$\\text{Tr}(\\sigma^\\alpha) = 2^n \\delta_{\\alpha,0}$",
   :taint :clean,
   :parent :1-lem1,
   :content-hash "c560b4eabd9e91b9",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L1Fourier",
    :theorem "term1_simplify",
    :also-see ["AlethfeldLean.Quantum.Pauli.trace_pauliString'"]},
   :display-order 1,
   :type :claim,
   :scope #{},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-lem1-2,
   :provenance
   {:created-at "2025-01-01T00:00:06Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{}},
  :2-thm8-discharge
  {:statement "Discharging the assumption $\\varepsilon = 2^{1-n}$.",
   :taint :clean,
   :parent :1-thm8,
   :content-hash "9194353d44d694f9",
   :display-order 5,
   :type :local-discharge,
   :scope #{:2-thm8-0},
   :justification :discharge,
   :status :verified,
   :id :2-thm8-discharge,
   :provenance
   {:created-at "2025-01-01T00:00:39Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :discharges :2-thm8-0,
   :dependencies #{:2-thm8-4}},
  :1-lem4
  {:statement
   "**Lemma 4 (Entropy Decomposition):** $S = -p_0 \\log_2 p_0 - \\sum_{\\alpha \\neq 0} p_\\alpha \\log_2 p_\\alpha$",
   :taint :clean,
   :parent nil,
   :content-hash "5506b387be1ce3bf",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L3Entropy",
    :theorem "totalEntropy",
    :note "Definition of total Shannon entropy"},
   :display-order 7,
   :type :claim,
   :scope #{},
   :justification :definition-expansion,
   :status :verified,
   :id :1-lem4,
   :provenance
   {:created-at "2025-01-01T00:00:17Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-lem2}},
  :2-thm6-4
  {:statement
   "By concavity of Shannon entropy, $f_k \\leq \\log_2 3$, with equality iff $(x_k^2, y_k^2, z_k^2) = (\\frac{1}{3}, \\frac{1}{3}, \\frac{1}{3})$.",
   :taint :clean,
   :parent :1-thm6,
   :content-hash "7831bb274890de47",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L4Maximum",
    :theorem "blochEntropy_le_log2_three",
    :also-see
    ["blochEntropy_eq_max_iff_magic"
     "ShannonMax.shannon_maximum_entropy_full"]},
   :display-order 3,
   :type :claim,
   :scope #{},
   :justification :external-application,
   :status :verified,
   :id :2-thm6-4,
   :provenance
   {:created-at "2025-01-01T00:00:30Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm6-3}},
  :2-thm5-qed
  {:statement
   "Combining: $S = -p_0 \\log_2 p_0 + (2n-2)(1-p_0) + 2^{1-n} \\sum_k f_k$",
   :taint :clean,
   :parent :1-thm5,
   :content-hash "f3599c0f46169848",
   :display-order 6,
   :type :qed,
   :scope #{},
   :justification :qed,
   :status :verified,
   :id :2-thm5-qed,
   :provenance
   {:created-at "2025-01-01T00:00:25Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm5-2 :2-thm5-6 :1-lem4}},
  :1-cor7
  {:statement
   "**Corollary 7 (Explicit Maximum):** For the symmetric magic product state: $\\frac{S}{I} = \\log_2 3 + \\frac{2^{n-1}}{n}\\left[-p_0 \\log_2 p_0 + (2n-2)(1-p_0)\\right]$ where $p_0 = (1 - 2^{1-n})^2$.",
   :taint :clean,
   :parent nil,
   :content-hash "8c70fee7c024a5b8",
   :display-order 10,
   :type :claim,
   :scope #{},
   :justification :substitution,
   :status :verified,
   :id :1-cor7,
   :provenance
   {:created-at "2025-01-01T00:00:32Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-thm5 :1-thm3 :1-thm6}},
  :2-thm8-qed
  {:statement
   "Therefore $S/I \\to \\log_2 3 + 4 \\approx 5.585$ as $n \\to \\infty$.",
   :taint :clean,
   :parent :1-thm8,
   :content-hash "037dcc635581eac6",
   :display-order 6,
   :type :qed,
   :scope #{},
   :justification :qed,
   :status :verified,
   :id :2-thm8-qed,
   :provenance
   {:created-at "2025-01-01T00:00:40Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm8-discharge :1-cor7}},
  :2-lem1-4
  {:statement
   "For product state: $\\langle\\psi|\\sigma^\\alpha|\\psi\\rangle = \\prod_k \\langle\\phi_k|\\sigma^{\\alpha_k}|\\phi_k\\rangle = \\prod_k r_k^{(\\alpha_k)}$",
   :taint :clean,
   :parent :1-lem1,
   :content-hash "b0a92a43ad7fd9ed",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L1Fourier",
    :theorem "single_qubit_factor",
    :also-see ["AlethfeldLean.Quantum.Bloch.expectation_σ"]},
   :display-order 3,
   :type :claim,
   :scope #{},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-lem1-4,
   :provenance
   {:created-at "2025-01-01T00:00:08Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:0-assume0 :1-def1}},
  :2-thm6-1
  {:statement
   "Since $I = n \\cdot 2^{1-n}$ is constant, maximizing $S/I$ is equivalent to maximizing $S$.",
   :taint :clean,
   :parent :1-thm6,
   :content-hash "5802ff5d18d0dea6",
   :display-order 0,
   :type :claim,
   :scope #{},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-thm6-1,
   :provenance
   {:created-at "2025-01-01T00:00:27Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:1-thm3}},
  :1-thm9
  {:statement
   "**Theorem 9 (Finite n Values):** $n=1$: $S_{\\max}/I = \\log_2 3 \\approx 1.585$; $n=2$: $2 + \\log_2 3 \\approx 3.585$; $n \\to \\infty$: $\\log_2 3 + 4 \\approx 5.585$",
   :taint :clean,
   :parent nil,
   :content-hash "eb9d85d20f59adfb",
   :display-order 12,
   :type :claim,
   :scope #{},
   :justification :substitution,
   :status :verified,
   :id :1-thm9,
   :provenance
   {:created-at "2025-01-01T00:00:41Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-cor7}},
  :2-thm5-4
  {:statement
   "For the nonzero part: $-\\sum_{\\ell=1}^3 \\log_2 q_j^{(\\ell)} \\sum_{\\alpha: \\alpha_j = \\ell} p_\\alpha$. From Theorem 3: $\\sum_{\\alpha: \\alpha_j = \\ell} p_\\alpha = 2^{1-n} q_j^{(\\ell)}$",
   :taint :clean,
   :parent :1-thm5,
   :content-hash "b6a05b11b3b0ca36",
   :display-order 3,
   :type :claim,
   :scope #{},
   :justification :substitution,
   :status :verified,
   :id :2-thm5-4,
   :provenance
   {:created-at "2025-01-01T00:00:22Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm3-3 :2-thm5-3}},
  :1-def3
  {:statement
   "The Bloch entropy of qubit $k$ is $f_k = H(x_k^2, y_k^2, z_k^2) = -\\sum_{\\ell=1}^3 q_k^{(\\ell)} \\log_2 q_k^{(\\ell)}$.",
   :taint :clean,
   :parent nil,
   :content-hash "367277d2b4ba0553",
   :display-order 3,
   :type :definition,
   :scope #{},
   :justification :definition-expansion,
   :status :verified,
   :id :1-def3,
   :provenance
   {:created-at "2025-01-01T00:00:03Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-def2}},
  :1-def1
  {:statement
   "Each single-qubit state $|\\phi_k\\rangle$ has Bloch vector $\\vec{r}_k = (x_k, y_k, z_k)$ with $|\\vec{r}_k|^2 = x_k^2 + y_k^2 + z_k^2 = 1$.",
   :taint :clean,
   :parent nil,
   :content-hash "454127e9767abd57",
   :display-order 1,
   :type :definition,
   :scope #{},
   :justification :definition-expansion,
   :status :verified,
   :id :1-def1,
   :provenance
   {:created-at "2025-01-01T00:00:01Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:0-assume0}},
  :1-thm8
  {:statement
   "**Theorem 8 (Limiting Behavior):** $\\lim_{n \\to \\infty} \\frac{S_{\\max}}{I} = \\log_2 3 + 4 \\approx 5.585$",
   :taint :clean,
   :parent nil,
   :content-hash "d8d1827535952a18",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L5Asymptotic",
    :theorem "l5_asymptotic_ratio",
    :api-ref "L5 (Asymptotic)",
    :also-see ["ratio_limit_approx" "g_tendsto_four"]},
   :display-order 11,
   :type :claim,
   :scope #{},
   :justification :conjunction-intro,
   :status :verified,
   :id :1-thm8,
   :provenance
   {:created-at "2025-01-01T00:00:33Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 1,
   :dependencies #{:1-cor7}},
  :2-lem1-qed
  {:statement
   "Combining steps 1.1-1.4 yields $\\hat{U}(\\alpha) = \\delta_{\\alpha,0} - 2^{1-n} \\prod_{k=1}^n r_k^{(\\alpha_k)}$.",
   :taint :clean,
   :parent :1-lem1,
   :content-hash "78d9632f350baf4b",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L1Fourier",
    :theorem "fourier_coefficient_formula",
    :note "QED combines all substep results"},
   :display-order 4,
   :type :qed,
   :scope #{},
   :justification :qed,
   :status :verified,
   :id :2-lem1-qed,
   :provenance
   {:created-at "2025-01-01T00:00:09Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-lem1-1 :2-lem1-3 :2-lem1-2 :2-lem1-4}},
  :2-thm3-4
  {:statement
   "Summing over $\\ell \\in \\{1,2,3\\}$: $I_j = 2^{2-2n} \\cdot 2^{n-1} \\cdot \\sum_{\\ell=1}^3 q_j^{(\\ell)} = 2^{1-n} \\cdot 1 = 2^{1-n}$",
   :taint :clean,
   :parent :1-thm3,
   :content-hash "c1332084cd86bf2f",
   :lean4-ref
   {:module "AlethfeldLean.QBF.Rank1.L2Influence",
    :theorem "influence_j_formula"},
   :display-order 3,
   :type :claim,
   :scope #{},
   :justification :algebraic-rewrite,
   :status :verified,
   :id :2-thm3-4,
   :provenance
   {:created-at "2025-01-01T00:00:15Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm3-3 :2-thm3-1 :1-def1}},
  :2-thm5-5
  {:statement
   "Therefore: $-\\sum_{\\alpha: \\alpha_j \\neq 0} p_\\alpha \\log_2 q_j^{(\\alpha_j)} = -2^{1-n} \\sum_{\\ell=1}^3 q_j^{(\\ell)} \\log_2 q_j^{(\\ell)} = 2^{1-n} f_j$",
   :taint :clean,
   :parent :1-thm5,
   :content-hash "8623302cac440537",
   :display-order 4,
   :type :claim,
   :scope #{},
   :justification :substitution,
   :status :verified,
   :id :2-thm5-5,
   :provenance
   {:created-at "2025-01-01T00:00:23Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:2-thm5-4 :1-def3}},
  :2-thm5-3
  {:statement
   "For fixed qubit $j$, the sum $-\\sum_{\\alpha \\neq 0} p_\\alpha \\log_2 q_j^{(\\alpha_j)}$ splits: when $\\alpha_j = 0$, $\\log_2 q_j^{(0)} = \\log_2 1 = 0$, so only $\\alpha_j \\neq 0$ contributes.",
   :taint :clean,
   :parent :1-thm5,
   :content-hash "182f3f95533882ac",
   :display-order 2,
   :type :claim,
   :scope #{},
   :justification :case-split,
   :status :verified,
   :id :2-thm5-3,
   :provenance
   {:created-at "2025-01-01T00:00:21Z",
    :created-by :prover,
    :round 1,
    :revision-of nil},
   :depth 2,
   :dependencies #{:1-def2}}},
 :graph-id "qbf-rank1-entropy-influence",
 :version 2,
 :lemmas
 {"L1-Fourier"
  {:edn-node :1-lem1,
   :statement "Û(α) = δ_{α,0} - 2^{1-n} ∏_k r_k^{α_k}",
   :taint :clean,
   :content-hash "6cf0dfca68efbaf3",
   :name "Fourier Coefficient Formula",
   :lean4-module "AlethfeldLean.QBF.Rank1.L1Fourier",
   :status :proven,
   :id "L1-Fourier",
   :main-theorem "fourier_coefficient_formula",
   :extracted-nodes #{},
   :root-node :1-lem1},
  "L2-Influence"
  {:edn-node :1-thm3,
   :statement "I(U) = n · 2^{1-n}, independent of Bloch vectors",
   :taint :clean,
   :content-hash "6e2b1c42520c233a",
   :name "Influence Independence",
   :lean4-module "AlethfeldLean.QBF.Rank1.L2Influence",
   :status :proven,
   :id "L2-Influence",
   :main-theorem "total_influence_formula",
   :extracted-nodes #{},
   :root-node :1-thm3},
  "L3-Entropy"
  {:edn-node :1-thm5,
   :statement "S = -p₀ log₂ p₀ + (2n-2)(1-p₀) + 2^{1-n} Σ_k f_k",
   :taint :clean,
   :content-hash "78dfd40d952959b6",
   :name "General Entropy Formula",
   :lean4-module "AlethfeldLean.QBF.Rank1.L3Entropy",
   :status :proven,
   :id "L3-Entropy",
   :main-theorem "entropy_formula",
   :extracted-nodes #{},
   :root-node :1-thm5},
  "L4-Maximum"
  {:edn-node :1-thm6,
   :statement
   "S/I maximized when all qubits in magic state (x²=y²=z²=1/3)",
   :taint :clean,
   :content-hash "13ff6c8c781f2e21",
   :name "Maximum at Magic State",
   :lean4-module "AlethfeldLean.QBF.Rank1.L4Maximum",
   :status :proven,
   :id "L4-Maximum",
   :main-theorem "l4_maximum_entropy",
   :extracted-nodes #{},
   :root-node :1-thm6},
  "L5-Asymptotic"
  {:edn-node :1-thm8,
   :statement "lim_{n→∞} S_max/I = log₂ 3 + 4 ≈ 5.585",
   :taint :clean,
   :content-hash "25ce3f3c30551393",
   :name "Asymptotic Limit",
   :lean4-module "AlethfeldLean.QBF.Rank1.L5Asymptotic",
   :status :proven,
   :id "L5-Asymptotic",
   :main-theorem "l5_asymptotic_ratio",
   :extracted-nodes #{},
   :root-node :1-thm8},
  "Master-Theorem"
  {:edn-node :1-main-qed,
   :statement "Complete theorem combining L1-L5",
   :taint :clean,
   :content-hash "060ec39145420421",
   :name "QBF Rank-1 Complete Result",
   :lean4-module "AlethfeldLean.QBF.Rank1.QBFRank1MasterTheorem",
   :status :proven,
   :id "Master-Theorem",
   :main-theorem "qbfRank1Master",
   :extracted-nodes #{},
   :root-node :1-main-qed}},
 :metadata
 {:created-at "2025-01-01T00:00:00Z",
  :last-modified "2025-12-29T15:00:00Z",
  :proof-mode :formal-physics,
  :iteration-counts
  {:verification {:round-1 42}, :expansion {}, :strategy 0},
  :verification-summary
  {:total-nodes 42,
   :accepted 39,
   :challenged 3,
   :revisions-applied 3,
   :final-status :all-verified},
  :context-budget {:max-tokens 100000, :current-estimate 12500},
  :lean4-mapping
  {:status :complete,
   :modules
   ["L1Fourier"
    "L2Influence"
    "L3Entropy"
    "L4Maximum"
    "L5Asymptotic"
    "QBFRank1MasterTheorem"],
   :verification-status "All modules verified (0 sorries)",
   :api-doc "lean/API.md"},
  :lean4-verification
  {:mathlib-version "v4.26.0",
   :lean-version "4.26.0",
   :proof-status :complete,
   :sorry-count 0,
   :last-build-date "2025-12-29",
   :build-result :success,
   :modules-verified
   {:L1Fourier {:sorries 0, :status :verified},
    :L2Influence {:sorries 0, :status :verified},
    :L3Entropy {:sorries 0, :status :verified},
    :ShannonMax {:sorries 0, :status :verified},
    :L4Maximum {:sorries 0, :status :verified},
    :L5Asymptotic {:sorries 0, :status :verified},
    :QBFRank1MasterTheorem {:sorries 0, :status :verified}},
   :notes "All theorems formally verified with 0 sorries"}},
 :symbols
 {:sym-U
  {:id :sym-U,
   :name "U",
   :type "Unitary operator on $(\\mathbb{C}^2)^{\\otimes n}$",
   :tex "U",
   :constraints "rank-1 QBF: $U = I - 2|\\psi\\rangle\\langle\\psi|$",
   :scope :global,
   :introduced-at :0-assume0},
  :sym-psi
  {:id :sym-psi,
   :name "psi",
   :type "Product state in $(\\mathbb{C}^2)^{\\otimes n}$",
   :tex "|\\psi\\rangle",
   :constraints
   "$|\\psi\\rangle = \\bigotimes_{k=1}^n |\\phi_k\\rangle$",
   :scope :global,
   :introduced-at :0-assume0},
  :sym-n
  {:id :sym-n,
   :name "n",
   :type "Positive integer",
   :tex "n",
   :constraints "$n \\geq 1$",
   :scope :global,
   :introduced-at :0-assume0},
  :sym-rk
  {:id :sym-rk,
   :name "r_k",
   :type "Real 4-vector",
   :tex "\\vec{r}_k = (1, x_k, y_k, z_k)",
   :constraints "$x_k^2 + y_k^2 + z_k^2 = 1$",
   :scope :global,
   :introduced-at :1-def1},
  :sym-qk
  {:id :sym-qk,
   :name "q_k",
   :type "Probability distribution on $\\{0,1,2,3\\}$",
   :tex "q_k^{(\\ell)}",
   :constraints
   "$q_k^{(0)} = 1$, $(q_k^{(1)}, q_k^{(2)}, q_k^{(3)}) = (x_k^2, y_k^2, z_k^2)$",
   :scope :global,
   :introduced-at :1-def2},
  :sym-fk
  {:id :sym-fk,
   :name "f_k",
   :type "Non-negative real",
   :tex "f_k",
   :constraints "Bloch entropy: $f_k = H(x_k^2, y_k^2, z_k^2)$",
   :scope :global,
   :introduced-at :1-def3},
  :sym-p0
  {:id :sym-p0,
   :name "p_0",
   :type "Probability",
   :tex "p_0",
   :constraints "$p_0 = (1 - 2^{1-n})^2$",
   :scope :global,
   :introduced-at :1-lem2}}}
